<div ng-controller="filesController">
  <div ng-show="viewState() === 'noFile'">
    <div class="file-empty">
      <!-- <pre class="prettyprint linenums" dir="ltr">
<ol class="linenums">
<li>if(!fileIsSelected){</li>
  <li>  OpenFileManager(); </li>
<li>}</li>
</ol>
</pre> -->
      <div class="file-empty-card" ng-show="!fileLoading">

        <div class="em-fi-al">
          اینجا فایل‌های
          <div class="live-btn">
            <label dir="ltr">LIVE</label>
            <i class="fa fa-circle"></i>
          </div>
          نشون داده می‌شه.
        </div>
        <div class="up-fi">
          <span>یه فایل آپلود کن، بعد</span>
          <span class="live-btn">
                        <label dir="ltr">LIVE</label>
                        <i class="fa fa-circle"></i>
                      </span>
          <span>رو بزن.</span>
        </div>
      </div>

      <div class="file-empty-card" ng-show="fileLoading">

        <div class="em-fi-al">
          در حال بارگذاری فایل
          <br><br>
          <div class="cssload-container">
            <div class="cssload-speeding-wheel"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div ng-show="viewState() !== 'noFile'">
    <div class="doc-section-header" dir="ltr">
      <ul class="doc-tabs">
        <li ng-show="vm.liveFile" ng-class="viewState()=='live' ? 'doc-tab doc-tab-active' : 'doc-tab'" ng-mouseup="liveFileTabClick()">
          {{vm.liveFile.name}}
          <a class="live-btn">
            <i class="fa fa-circle"></i>
            <label dir="ltr">LIVE</label>
          </a>
          <a ng-click="closeLiveFile(vm.liveFile)" uib-tooltip="LIVE خروج از حالت" tooltip-placement="bottom">
            <i class="fa fa-times"></i>
          </a>
        </li>

        <li ng-show="vm.viewFile" ng-class="viewState()=='view' ? 'doc-tab doc-tab-active' : 'doc-tab'" ng-mouseup="viewFileTabClick()">
          {{vm.viewFile.name}}
          <a ng-click="closeViewFile(vm.viewFile)">
            <i class="fa fa-times"></i>
          </a>
        </li>
      </ul>
      <div class="doc-tab" style="float: right">
        <a ng-href="{{getFileDownloadData('url')}}" download="{{getFileDownloadData('name')}}" target="_blank" uib-tooltip="دانلود" tooltip-placement="bottom">
          <i class="fa fa-download"></i>
        </a>
      </div>
      <div ng-show="viewState()=='view'" ng-click="makeViewFileLive()" class="doc-tab" style="float: right">
        <div class="live-btn" >
          <label dir="ltr">LIVE</label>
          <i class="fa fa-circle"></i>
        </div>
      </div>
    </div>
    <div ng-show="viewState() === 'live'">
      <div class="doc-section-body" ng-show="!fileLoading">
            <pre id="liveCodeView" class="prettyprint linenums code-view" >
      <ol class="linenums">
        <li ng-repeat="line in vm.liveFile.lines track by $index" ng-mousedown="mouseDownLine(line.num)" ng-mouseup="mouseUpLine(line.num)" ng-mouseover="mouseOverLine(line.num)" ng-click="lineClick(line.num)" ng-bind-html="line.html"
            ng-class="line.getCssClass()"></li>
      </ol>
    </pre>
      </div>
      <div class="file-empty">
        <div class="file-empty-card" ng-show="fileLoading">

          <div class="em-fi-al">
            در حال بارگذاری فایل
            <br><br>
            <div class="cssload-container">
              <div class="cssload-speeding-wheel"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div ng-show="viewState() === 'view'">
      <div class="doc-section-body" ng-show="!fileLoading">
            <pre id="codeView" class="prettyprint linenums-view code-view">
      <ol class="linenums-view">
        <li ng-repeat="line in vm.viewFile.lines track by $index" ng-bind-html="line.html" ng-class="line.getCssClass()"></li>
      </ol>
    </pre>
      </div>
      <div class="file-empty">
        <div class="file-empty-card" ng-show="fileLoading">

          <div class="em-fi-al">
            در حال بارگذاری فایل
            <br><br>
            <div class="cssload-container">
              <div class="cssload-speeding-wheel"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
</div>
