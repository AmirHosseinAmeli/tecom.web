<div ng-controller="MessengerCtrl" class="wrapper" ui-tour>
  <div class="col-sm-3 col-lg-2 no-padding channel-section">
    <div class="right-section">
      <div class="right-section-header">
        <img src="static/img/tecom-logo.png" />
        <span class="brand-name-right-header">تیکام</span>
        <div uib-dropdown>
          <a uib-dropdown-toggle class="user-options-btn" tour-step tour-step-content="راستی یادت نره بری تو مدیریت تیم و هم‌کار‌هات رو دعوت کنی. چون تیکام با هم‌تیمی‌هاست که معنی پیدا می‌کنه!" tour-step-order="3" tour-step-placement="bottom">
            <i class="zmdi zmdi-more-vert"></i>
          </a>
          <ul class="dropdown-menu user-options" uib-dropdown-menu aria-labelledby="simple-dropdown">
            <li style="display:block">
            </li>
            <li ng-click="openUserProfileModal()">
              <a><i class="fa fa-user"></i>پروفایل من</a>
            </li>
            <li ng-show="isAdmin" ng-click="openTeamProfileModal()">
              <a><i class="fa fa-users"></i>مدیریت تیم</a>
            </li>
            <li ng-click="setNotificationPermission()" ng-show="shouldShowNotificationPermission()">
              <a><i class="fa fa-bell"></i>درخواست دسترسی اعلان‌ها</a>
            </li>
            <li ng-click="logout()">
              <a><i class="fa fa-sign-out"></i>خروج</a>
            </li>
          </ul>
        </div>
        <div class="header-notif" uib-dropdown>
          <a uib-dropdown-toggle class="user-options-btn">
            <i ng-class="getDontDisturbModeClass()"></i>
          </a>
          <ul class="dropdown-menu user-options" uib-dropdown-menu aria-labelledby="simple-dropdown">
            <li ng-show="dontDisturbModeRemainingTime()">
              <a><i class="zmdi zmdi-notifications-add"></i>{{dontDisturbModeRemainingTime()}}</a>
            </li>
            <!-- <li style="display:block"></li> -->
            <li ng-click="timeActivateDontDisturbMode(30)">
              <a><i class="zmdi zmdi-notifications-add"></i>نیم‌ساعت</a>
            </li>
            <li ng-click="timeActivateDontDisturbMode(60)">
              <a><i class="zmdi zmdi-notifications-add"></i>یک‌ساعت</a>
            </li>
            <li ng-click="deactiveDontDisturbMode()">
              <a><i class="zmdi zmdi-notifications-active"></i>راحت‌باش</a>
            </li>
            <li ng-click="activeDontDisturbMode()">
              <a><i class="zmdi zmdi-notifications-none"></i>پیام‌نده</a>
            </li>
          </ul>
          <!-- <input type="checkbox" ng-model="dontDisturbMode" id="dontDisturbMode" ng-change="toggleDontDisturbMode()" class="" />
          <label for="dontDisturbMode" class="zmdi zmdi-notifications-active"></label>
          <label for="dontDisturbMode" class="zmdi zmdi-notifications-off"></label> -->
        </div>
      </div>
      <div class="right-section-main">
        <div ui-view="channels"></div>
      </div>
    </div>
  </div>
  <div class="col-sm-9 col-lg-10 no-padding chat-section">
    <div ui-view></div>
  </div>
  <div class="loading" ng-show="isLoading">
    <img class="loading-img" src="static/img/loading.gif">
    <div class="loading-txt">تمرکز روی چند چیز، همون تمرکز روی هیچ چیزه.</div>
    <div class="loading-taking-long-txt" ng-show="isLoadingTakingTooLong">
      <label>بارگذاری داره زیاد طول می‌کشه؟</label>
      <a class="btn btn-link" href="mailto:support@tecom.me">ارتباط با پشتیبانی</a>
    </div>
  </div>
</div>
<div class="clearfix"></div>
