<div ng-controller="channelsController">
    <div class="group-holder-header">
        <i class="zmdi zmdi-accounts"></i>
        <label>گروه‌ ها</label>
        <a class="plus-g" ng-click="openCreateChannelModal()">
            <i class="zmdi zmdi-plus"></i>
        </a>
    </div>
    <div class="group-holder">
        <ul>
            <li ng-repeat="channel in channels | filter: filterByPublicAndPrivate"
                ng-class="{'active': channel.slug == selectedChat()}">
                <a ui-sref=".messages({slug: '{{channel.slug}}'})">
                    #
                    <span>{{channel.name}}</span>
                </a>
            </li>
        </ul>
    </div>
    <div class="direct-holder-header">
        <i class="zmdi zmdi-inbox"></i>
        <label>پیغام خصوصی</label>
        <a class="plus-d">
            <i class="zmdi zmdi-plus"></i>
        </a>
    </div>
    <div class="direct-holder group-holder">
        <ul>
            <li ng-repeat="direct in channels | filter: filterByDirect"
                ng-class="{'active': '@' + direct.slug == selectedChat()}">
                <a ui-sref=".messages({slug: '@{{direct.slug}}'})">
                    <i ng-class="(direct.online) ? 'zmdi zmdi-circle' : 'zmdi zmdi-circle-o'"></i>
                    <span>{{direct.name}}</span>
                </a>
            </li>
        </ul>
    </div>
    <script type="text/ng-template" id="myModalContent.html">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" ng-click="$ctrl.closeCreateChannel()">&times;</button>
            <h4 class="modal-title">ایجاد گروه جدید</h4>
        </div>
        <div class="modal-body">
            <form name="forms.newChannelForm" ng-submit="$ctrl.forms.newChannelForm.$valid && $ctrl.createChannelSubmit()" novalidate>
                <div class="modal-input">
                    <input type="text" name="name" ng-model="newChannel.name" ng-maxlength="32"
                           placeholder="نام گروه" required>
                    <span class="modal-err"
                          ng-show="($ctrl.forms.newChannelForm.name.$touched || $ctrl.forms.newChannelForm.$submitted) && !newChannel.name && !$ctrl.forms.newChannelForm.name.$pristine">وارد کردن نام گروه الزامی است!</span>
                    <span class="modal-err"
                          ng-show="!newChannel.name && $ctrl.forms.newChannelForm.name.$invalid">نام گروه حداکثر باید شامل ۳۲ حرف باشد.</span>
                </div>
                <div class="modal-input">
                    <input type="text" name="description" ng-model="newChannel.description" ng-maxlength="256"
                           placeholder="توضیح گروه">
                    <span class="modal-err" ng-show="$ctrl.forms.newChannelForm.description.$invalid">توضیح گروه حداکثر باید شامل ۲۵۶ حرف باشد.</span>
                </div>
                <label class="ws-checkbox">
                    <span>این گروه خصوصی است.</span>
                    <input type="checkbox" ng-model="newChannel.isPrivate">
                    <div class="checkbox-stat">
                        <i class="zmdi zmdi-check"></i>
                    </div>
                </label>
                <div class="modal-input">
                    <input type="submit" value="ایجاد گروه" class="btn btn-default">
                </div>
                <span class="modal-err" ng-show="forms.newChannelForm.serverError">خطا در اتصال به سرور</span>
            </form>
        </div>
    </script>
    <!--<div ui-view="createChannel"></div>-->
</div>
